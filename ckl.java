import android.content.res.AssetManager.AssetInputStream;
import android.system.OsConstants;
import android.util.Log;
import com.google.android.apps.camera.bottombar.dagger.QiTx.DeBfHrQZSt;
import com.google.android.apps.camera.imax.cyclops.audio.CmJv.ytQQGGmniJK;
import com.google.android.apps.lightcycle.panorama.vSAD.IUDuAuCIaH;
import com.google.android.libraries.lens.lenslite.dynamicloading.LjhL.gThp;
import com.google.android.libraries.memorymonitor.Xhk.PUdPFKr;
import com.google.android.libraries.oliveoil.bufferflinger.aUnT.DHwXNavBkqbhR;
import com.google.android.material.appbar.XD.SSYOSt;
import com.google.android.material.search.Ztp.sYWXtqVx;
import com.google.android.material.snackbar.Lqt.HUJCIBIkzRDQ;
import com.google.googlex.gcam.base.HmAh.RbaSbznIXS;
import j$.util.DesugarTimeZone;
import java.io.EOFException;
import java.io.FileDescriptor;
import java.io.FileInputStream;
import java.io.IOException;
import java.io.InputStream;
import java.nio.ByteOrder;
import java.nio.charset.Charset;
import java.text.SimpleDateFormat;
import java.util.Arrays;
import java.util.HashMap;
import java.util.HashSet;
import java.util.Locale;
import java.util.Set;
import java.util.regex.Pattern;
import java.util.zip.CRC32;

public final class ckl {
   private static final HashSet A;
   private static final HashMap B;
   private static final byte[] C;
   private static final ora[] N;
   private static final ora[] O;
   private static final ora[] P;
   private static final ora[] Q;
   private static final ora[] R;
   private static final ora S;
   private static final ora[] T;
   private static final ora[] U;
   private static final ora[] V;
   private static final ora[] W;
   private static final ora[] X;
   public static final int[] a;
   public static final int[] b;
   static final byte[] c;
   static final String[] d;
   static final int[] e;
   static final byte[] f;
   static final Charset g;
   static final byte[] h;
   static final ora[][] j;
   private static final byte[] k;
   private static final byte[] l;
   private static final byte[] m;
   private static final byte[] n;
   private static final byte[] o;
   private static final byte[] p;
   private static final byte[] q;
   private static final byte[] r;
   private static final byte[] s;
   private static final byte[] t;
   private static final byte[] u;
   private static final byte[] v;
   private static SimpleDateFormat w;
   private static SimpleDateFormat x;
   private static final HashMap[] y;
   private static final HashMap[] z;
   private final FileDescriptor D;
   private final AssetInputStream E;
   private int F;
   private final HashMap[] G;
   private final Set H;
   private boolean I;
   private int J;
   private int K;
   private int L;
   private int M;
   public ByteOrder i;

   static {
      Integer var7 = 1;
      Integer var6 = 3;
      Integer var5 = 2;
      Integer var4 = 8;
      Arrays.asList(var7, 6, var6, var4);
      Integer var3 = 7;
      Integer var8 = 5;
      Arrays.asList(var5, var3, 4, var8);
      a = new int[]{8, 8, 8};
      b = new int[]{8};
      c = new byte[]{-1, -40, -1};
      k = new byte[]{102, 116, 121, 112};
      l = new byte[]{109, 105, 102, 49};
      m = new byte[]{104, 101, 105, 99};
      n = new byte[]{79, 76, 89, 77, 80, 0};
      o = new byte[]{79, 76, 89, 77, 80, 85, 83, 0, 73, 73};
      p = new byte[]{-119, 80, 78, 71, 13, 10, 26, 10};
      q = new byte[]{101, 88, 73, 102};
      r = new byte[]{73, 72, 68, 82};
      s = new byte[]{73, 69, 78, 68};
      t = new byte[]{82, 73, 70, 70};
      u = new byte[]{87, 69, 66, 80};
      v = new byte[]{69, 88, 73, 70};
      "VP8X".getBytes(Charset.defaultCharset());
      "VP8L".getBytes(Charset.defaultCharset());
      "VP8 ".getBytes(Charset.defaultCharset());
      "ANIM".getBytes(Charset.defaultCharset());
      Charset var9 = Charset.defaultCharset();
      gThp.jPUMoYilSSyVWjj.getBytes(var9);
      d = new String[]{"", "BYTE", "STRING", "USHORT", "ULONG", "URATIONAL", "SBYTE", "UNDEFINED", "SSHORT", "SLONG", "SRATIONAL", "SINGLE", DeBfHrQZSt.wdNzyF, "IFD"};
      e = new int[]{0, 1, 1, 2, 4, 8, 1, 1, 2, 4, 8, 4, 8, 1};
      f = new byte[]{65, 83, 67, 73, 73, 0, 0, 0};
      ora[] var11 = new ora[]{new ora("NewSubfileType", 254, 4), new ora("SubfileType", 255, 4), new ora("ImageWidth", 256, 3, 4), new ora("ImageLength", 257, 3, 4), new ora("BitsPerSample", 258, 3), new ora("Compression", 259, 3), new ora("PhotometricInterpretation", 262, 3), new ora("ImageDescription", 270, 2), new ora("Make", 271, 2), new ora("Model", 272, 2), new ora("StripOffsets", 273, 3, 4), new ora("Orientation", 274, 3), new ora("SamplesPerPixel", 277, 3), new ora("RowsPerStrip", 278, 3, 4), new ora("StripByteCounts", 279, 3, 4), new ora("XResolution", 282, 5), new ora("YResolution", 283, 5), new ora("PlanarConfiguration", 284, 3), new ora("ResolutionUnit", 296, 3), new ora("TransferFunction", 301, 3), new ora("Software", 305, 2), new ora("DateTime", 306, 2), new ora("Artist", 315, 2), new ora("WhitePoint", 318, 5), new ora("PrimaryChromaticities", 319, 5), new ora("SubIFDPointer", 330, 4), new ora("JPEGInterchangeFormat", 513, 4), new ora("JPEGInterchangeFormatLength", 514, 4), new ora("YCbCrCoefficients", 529, 5), new ora("YCbCrSubSampling", 530, 3), new ora("YCbCrPositioning", 531, 3), new ora("ReferenceBlackWhite", 532, 5), new ora("Copyright", 33432, 2), new ora(DeBfHrQZSt.FdXJdyB, 34665, 4), new ora("GPSInfoIFDPointer", 34853, 4), new ora("SensorTopBorder", 4, 4), new ora("SensorLeftBorder", 5, 4), new ora("SensorBottomBorder", 6, 4), new ora("SensorRightBorder", 7, 4), new ora("ISO", 23, 3), new ora("JpgFromRaw", 46, 7), new ora("Xmp", 700, 1)};
      N = var11;
      ora[] var16 = new ora[]{new ora("ExposureTime", 33434, 5), new ora("FNumber", 33437, 5), new ora("ExposureProgram", 34850, 3), new ora("SpectralSensitivity", 34852, 2), new ora("PhotographicSensitivity", 34855, 3), new ora("OECF", 34856, 7), new ora("SensitivityType", 34864, 3), new ora("StandardOutputSensitivity", 34865, 4), new ora("RecommendedExposureIndex", 34866, 4), new ora("ISOSpeed", 34867, 4), new ora("ISOSpeedLatitudeyyy", 34868, 4), new ora("ISOSpeedLatitudezzz", 34869, 4), new ora("ExifVersion", 36864, 2), new ora("DateTimeOriginal", 36867, 2), new ora("DateTimeDigitized", 36868, 2), new ora("OffsetTime", 36880, 2), new ora(HUJCIBIkzRDQ.ZxrTdzV, 36881, 2), new ora("OffsetTimeDigitized", 36882, 2), new ora("ComponentsConfiguration", 37121, 7), new ora("CompressedBitsPerPixel", 37122, 5), new ora("ShutterSpeedValue", 37377, 10), new ora("ApertureValue", 37378, 5), new ora("BrightnessValue", 37379, 10), new ora("ExposureBiasValue", 37380, 10), new ora("MaxApertureValue", 37381, 5), new ora("SubjectDistance", 37382, 5), new ora("MeteringMode", 37383, 3), new ora("LightSource", 37384, 3), new ora("Flash", 37385, 3), new ora("FocalLength", 37386, 5), new ora("SubjectArea", 37396, 3), new ora("MakerNote", 37500, 7), new ora("UserComment", 37510, 7), new ora("SubSecTime", 37520, 2), new ora("SubSecTimeOriginal", 37521, 2), new ora("SubSecTimeDigitized", 37522, 2), new ora("FlashpixVersion", 40960, 7), new ora("ColorSpace", 40961, 3), new ora("PixelXDimension", 40962, 3, 4), new ora("PixelYDimension", 40963, 3, 4), new ora("RelatedSoundFile", 40964, 2), new ora("InteroperabilityIFDPointer", 40965, 4), new ora("FlashEnergy", 41483, 5), new ora("SpatialFrequencyResponse", 41484, 7), new ora("FocalPlaneXResolution", 41486, 5), new ora("FocalPlaneYResolution", 41487, 5), new ora("FocalPlaneResolutionUnit", 41488, 3), new ora("SubjectLocation", 41492, 3), new ora("ExposureIndex", 41493, 5), new ora("SensingMethod", 41495, 3), new ora("FileSource", 41728, 7), new ora("SceneType", 41729, 7), new ora("CFAPattern", 41730, 7), new ora("CustomRendered", 41985, 3), new ora("ExposureMode", 41986, 3), new ora("WhiteBalance", 41987, 3), new ora("DigitalZoomRatio", 41988, 5), new ora("FocalLengthIn35mmFilm", 41989, 3), new ora("SceneCaptureType", 41990, 3), new ora("GainControl", 41991, 3), new ora("Contrast", 41992, 3), new ora("Saturation", 41993, 3), new ora("Sharpness", 41994, 3), new ora("DeviceSettingDescription", 41995, 7), new ora("SubjectDistanceRange", 41996, 3), new ora("ImageUniqueID", 42016, 2), new ora("CameraOwnerName", 42032, 2), new ora("BodySerialNumber", 42033, 2), new ora("LensSpecification", 42034, 5), new ora(RbaSbznIXS.jVTSxZXjCMPuZS, 42035, 2), new ora("LensModel", 42036, 2), new ora("Gamma", 42240, 5), new ora("DNGVersion", 50706, 1), new ora("DefaultCropSize", 50720, 3, 4)};
      O = var16;
      ora[] var10 = new ora[]{new ora("GPSVersionID", 0, 1), new ora(RbaSbznIXS.YfLugyiueOTMo, 1, 2), new ora("GPSLatitude", 2, 5, 10), new ora("GPSLongitudeRef", 3, 2), new ora("GPSLongitude", 4, 5, 10), new ora("GPSAltitudeRef", 5, 1), new ora("GPSAltitude", 6, 5), new ora("GPSTimeStamp", 7, 5), new ora("GPSSatellites", 8, 2), new ora("GPSStatus", 9, 2), new ora("GPSMeasureMode", 10, 2), new ora("GPSDOP", 11, 5), new ora("GPSSpeedRef", 12, 2), new ora("GPSSpeed", 13, 5), new ora("GPSTrackRef", 14, 2), new ora("GPSTrack", 15, 5), new ora("GPSImgDirectionRef", 16, 2), new ora("GPSImgDirection", 17, 5), new ora("GPSMapDatum", 18, 2), new ora("GPSDestLatitudeRef", 19, 2), new ora("GPSDestLatitude", 20, 5), new ora("GPSDestLongitudeRef", 21, 2), new ora("GPSDestLongitude", 22, 5), new ora("GPSDestBearingRef", 23, 2), new ora("GPSDestBearing", 24, 5), new ora("GPSDestDistanceRef", 25, 2), new ora(DHwXNavBkqbhR.AGCaPMhFJUfN, 26, 5), new ora("GPSProcessingMethod", 27, 7), new ora("GPSAreaInformation", 28, 7), new ora("GPSDateStamp", 29, 2), new ora("GPSDifferential", 30, 3), new ora("GPSHPositioningError", 31, 5)};
      P = var10;
      ora[] var18 = new ora[]{new ora("InteroperabilityIndex", 1, 2)};
      Q = var18;
      ora[] var12 = new ora[]{new ora("NewSubfileType", 254, 4), new ora("SubfileType", 255, 4), new ora("ThumbnailImageWidth", 256, 3, 4), new ora("ThumbnailImageLength", 257, 3, 4), new ora("BitsPerSample", 258, 3), new ora("Compression", 259, 3), new ora("PhotometricInterpretation", 262, 3), new ora("ImageDescription", 270, 2), new ora("Make", 271, 2), new ora("Model", 272, 2), new ora("StripOffsets", 273, 3, 4), new ora("ThumbnailOrientation", 274, 3), new ora("SamplesPerPixel", 277, 3), new ora("RowsPerStrip", 278, 3, 4), new ora("StripByteCounts", 279, 3, 4), new ora("XResolution", 282, 5), new ora("YResolution", 283, 5), new ora("PlanarConfiguration", 284, 3), new ora("ResolutionUnit", 296, 3), new ora("TransferFunction", 301, 3), new ora("Software", 305, 2), new ora("DateTime", 306, 2), new ora(PUdPFKr.ImYrzZaDXoGhzEJ, 315, 2), new ora("WhitePoint", 318, 5), new ora("PrimaryChromaticities", 319, 5), new ora("SubIFDPointer", 330, 4), new ora("JPEGInterchangeFormat", 513, 4), new ora("JPEGInterchangeFormatLength", 514, 4), new ora("YCbCrCoefficients", 529, 5), new ora("YCbCrSubSampling", 530, 3), new ora("YCbCrPositioning", 531, 3), new ora("ReferenceBlackWhite", 532, 5), new ora("Copyright", 33432, 2), new ora("ExifIFDPointer", 34665, 4), new ora("GPSInfoIFDPointer", 34853, 4), new ora("DNGVersion", 50706, 1), new ora("DefaultCropSize", 50720, 3, 4)};
      R = var12;
      S = new ora("StripOffsets", 273, 3);
      ora[] var13 = new ora[]{new ora("ThumbnailImage", 256, 7), new ora("CameraSettingsIFDPointer", 8224, 4), new ora("ImageProcessingIFDPointer", 8256, 4)};
      T = var13;
      ora[] var17 = new ora[]{new ora("PreviewImageStart", 257, 4), new ora("PreviewImageLength", 258, 4)};
      U = var17;
      ora[] var15 = new ora[]{new ora("AspectFrame", 4371, 3)};
      V = var15;
      ora[] var14 = new ora[]{new ora("ColorSpace", 55, 3)};
      W = var14;
      j = new ora[][]{var11, var16, var10, var18, var12, var11, var13, var17, var15, var14};
      X = new ora[]{new ora("SubIFDPointer", 330, 4), new ora("ExifIFDPointer", 34665, 4), new ora("GPSInfoIFDPointer", 34853, 4), new ora("InteroperabilityIFDPointer", 40965, 4), new ora("CameraSettingsIFDPointer", 8224, 1), new ora("ImageProcessingIFDPointer", 8256, 1)};
      y = new HashMap[10];
      z = new HashMap[10];
      A = new HashSet(Arrays.asList("FNumber", "DigitalZoomRatio", "ExposureTime", "SubjectDistance", "GPSTimeStamp"));
      B = new HashMap();
      var9 = Charset.forName("US-ASCII");
      g = var9;
      h = "Exif\u0000\u0000".getBytes(var9);
      C = "http://ns.adobe.com/xap/1.0/\u0000".getBytes(var9);
      SimpleDateFormat var19 = new SimpleDateFormat("yyyy:MM:dd HH:mm:ss", Locale.US);
      w = var19;
      var19.setTimeZone(DesugarTimeZone.getTimeZone("UTC"));
      var19 = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss", Locale.US);
      x = var19;
      var19.setTimeZone(DesugarTimeZone.getTimeZone("UTC"));
      int var0 = 0;

      while(true) {
         ora[][] var21 = j;
         int var1 = var21.length;
         if (var0 >= 10) {
            HashMap var22 = B;
            var10 = X;
            var22.put(var10[0].b, var8);
            var22.put(var10[1].b, var7);
            var22.put(var10[2].b, var5);
            var22.put(var10[3].b, var6);
            var22.put(var10[4].b, var3);
            var22.put(var10[5].b, var4);
            Pattern.compile(".*[1-9].*");
            Pattern.compile("^(\\d{2}):(\\d{2}):(\\d{2})$");
            Pattern.compile("^(\\d{4}):(\\d{2}):(\\d{2})\\s(\\d{2}):(\\d{2}):(\\d{2})$");
            Pattern.compile("^(\\d{4})-(\\d{2})-(\\d{2})\\s(\\d{2}):(\\d{2}):(\\d{2})$");
            return;
         }

         y[var0] = new HashMap();
         z[var0] = new HashMap();
         var18 = var21[var0];
         int var2 = var18.length;

         for(var1 = 0; var1 < var2; ++var1) {
            ora var20 = var18[var1];
            y[var0].put(var20.b, var20);
            z[var0].put(var20.d, var20);
         }

         ++var0;
      }
   }

   public ckl(InputStream var1) {
      int var2 = j.length;
      this.G = new HashMap[10];
      this.H = new HashSet(10);
      this.i = ByteOrder.BIG_ENDIAN;
      if (var1 instanceof AssetInputStream) {
         this.E = (AssetInputStream)var1;
         this.D = null;
      } else {
         label21: {
            if (var1 instanceof FileInputStream) {
               label24: {
                  FileInputStream var3 = (FileInputStream)var1;
                  FileDescriptor var4 = var3.getFD();

                  try {
                     ckm.a(var4, 0L, OsConstants.SEEK_CUR);
                  } catch (Exception var5) {
                     break label24;
                  }

                  this.E = null;
                  this.D = var3.getFD();
                  break label21;
               }
            }

            this.E = null;
            this.D = null;
         }
      }

      this.i(var1);
   }

   private final void c() {
      String var1 = this.b("DateTimeOriginal");
      if (var1 != null && this.b("DateTime") == null) {
         this.G[0].put("DateTime", ckj.b(var1));
      }

      if (this.b("ImageWidth") == null) {
         this.G[0].put("ImageWidth", ckj.c(0L, this.i));
      }

      if (this.b("ImageLength") == null) {
         this.G[0].put("ImageLength", ckj.c(0L, this.i));
      }

      if (this.b("Orientation") == null) {
         this.G[0].put("Orientation", ckj.c(0L, this.i));
      }

      if (this.b("LightSource") == null) {
         this.G[1].put("LightSource", ckj.c(0L, this.i));
      }

   }

   private final void d(cki var1, int var2, int var3) {
      var1.c = ByteOrder.BIG_ENDIAN;
      byte var4 = var1.readByte();
      if (var4 != -1) {
         IOException var11 = new IOException("Invalid marker: ".concat(String.valueOf(Integer.toHexString(var4 & 255))));
         throw var11;
      } else if (var1.readByte() != -40) {
         throw new IOException("Invalid marker: ".concat(String.valueOf(Integer.toHexString(255))));
      } else {
         int var12 = 2;

         while(true) {
            byte var5 = var1.readByte();
            if (var5 != -1) {
               throw new IOException("Invalid marker:".concat(String.valueOf(Integer.toHexString(255 & var5))));
            }

            byte var7 = var1.readByte();
            if (var7 == -39 || var7 == -38) {
               var1.c = this.i;
               return;
            }

            int var6 = var1.readUnsignedShort() - 2;
            int var13 = var12 + 4;
            if (var6 < 0) {
               throw new IOException("Invalid length");
            }

            byte[] var8;
            switch(var7) {
            case -64:
            case -63:
            case -62:
            case -61:
            case -59:
            case -58:
            case -57:
            case -55:
            case -54:
            case -53:
            case -51:
            case -50:
            case -49:
               var1.b(1);
               HashMap var10 = this.G[var3];
               ckj var17 = ckj.c((long)var1.readUnsignedShort(), this.i);
               String var16;
               if (var3 != 4) {
                  var16 = ytQQGGmniJK.rSBhetmsYPl;
               } else {
                  var16 = "ThumbnailImageLength";
               }

               var10.put(var16, var17);
               var10 = this.G[var3];
               var17 = ckj.c((long)var1.readUnsignedShort(), this.i);
               if (var3 != 4) {
                  var16 = "ImageWidth";
               } else {
                  var16 = "ThumbnailImageWidth";
               }

               var10.put(var16, var17);
               var12 = var6 - 5;
               break;
            case -31:
               byte[] var9 = new byte[var6];
               var1.readFully(var9);
               var12 = var13 + var6;
               var8 = h;
               byte var14;
               if (ciq.b(var9, var8)) {
                  var9 = Arrays.copyOfRange(var9, var8.length, var6);
                  this.J = var2 + var13 + var8.length;
                  this.k(var9, var3);
                  this.m(new cki(var9));
                  var14 = 0;
                  var13 = var12;
                  var12 = var14;
               } else {
                  var8 = C;
                  if (ciq.b(var9, var8)) {
                     int var15 = var8.length;
                     var8 = Arrays.copyOfRange(var9, var15, var6);
                     if (this.b("Xmp") == null) {
                        this.G[0].put("Xmp", new ckj(1, var8.length, (long)(var13 + var15), var8));
                     }

                     var14 = 0;
                     var13 = var12;
                     var12 = var14;
                  } else {
                     var14 = 0;
                     var13 = var12;
                     var12 = var14;
                  }
               }
               break;
            case -2:
               var8 = new byte[var6];
               var1.readFully(var8);
               if (this.b("UserComment") == null) {
                  this.G[1].put("UserComment", ckj.b(new String(var8, g)));
               }

               var12 = 0;
               break;
            default:
               var12 = var6;
            }

            if (var12 < 0) {
               throw new IOException("Invalid length");
            }

            var1.b(var12);
            var12 += var13;
         }
      }
   }

   private final void e(cki var1) {
      var1.c = ByteOrder.BIG_ENDIAN;
      byte[] var5 = p;
      int var2 = var5.length;
      var1.b(8);
      var2 = var5.length;
      var2 = 8;

      IOException var15;
      while(true) {
         boolean var10001;
         int var4;
         byte[] var6;
         try {
            var4 = var1.readInt();
            var6 = new byte[4];
            var1.readFully(var6);
         } catch (EOFException var11) {
            var10001 = false;
            break;
         }

         label76: {
            int var3 = var2 + 8;
            var2 = var3;
            if (var3 == 16) {
               try {
                  if (!Arrays.equals(var6, r)) {
                     break label76;
                  }
               } catch (EOFException var13) {
                  var10001 = false;
                  break;
               }

               var2 = 16;
            }

            try {
               if (Arrays.equals(var6, s)) {
                  return;
               }
            } catch (EOFException var10) {
               var10001 = false;
               break;
            }

            CRC32 var14;
            label77: {
               try {
                  if (Arrays.equals(var6, q)) {
                     var5 = new byte[var4];
                     var1.readFully(var5);
                     var3 = var1.readInt();
                     var14 = new CRC32();
                     var14.update(var6);
                     var14.update(var5);
                     if ((int)var14.getValue() != var3) {
                        break label77;
                     }

                     this.J = var2;
                     this.k(var5, 0);
                     this.o();
                     var1 = new cki(var5);
                     this.m(var1);
                     return;
                  }
               } catch (EOFException var12) {
                  var10001 = false;
                  break;
               }

               var3 = var4 + 4;

               try {
                  var1.b(var3);
               } catch (EOFException var9) {
                  var10001 = false;
                  break;
               }

               var2 += var3;
               continue;
            }

            try {
               StringBuilder var17 = new StringBuilder();
               var17.append("Encountered invalid CRC value for PNG-EXIF chunk.\n recorded CRC value: ");
               var17.append(var3);
               var17.append(", calculated CRC value: ");
               var17.append(var14.getValue());
               IOException var16 = new IOException(var17.toString());
               throw var16;
            } catch (EOFException var8) {
               var10001 = false;
               break;
            }
         }

         try {
            var15 = new IOException("Encountered invalid PNG file--IHDR chunk should appearas the first chunk");
            throw var15;
         } catch (EOFException var7) {
            var10001 = false;
            break;
         }
      }

      var15 = new IOException("Encountered corrupt PNG file.");
      throw var15;
   }

   private final void f(cki var1) {
      var1.c = ByteOrder.LITTLE_ENDIAN;
      int var2 = t.length;
      var1.b(4);
      int var4 = var1.readInt() + 8;
      byte[] var6 = u;
      var2 = var6.length;
      var1.b(4);
      var2 = var6.length;
      var2 = 12;

      IOException var11;
      while(true) {
         boolean var10001;
         int var3;
         try {
            var6 = new byte[4];
            var1.readFully(var6);
            var3 = var1.readInt();
         } catch (EOFException var9) {
            var10001 = false;
            break;
         }

         int var5 = var2 + 8;

         try {
            if (Arrays.equals(v, var6)) {
               var6 = new byte[var3];
               var1.readFully(var6);
               this.J = var5;
               this.k(var6, 0);
               var1 = new cki(var6);
               this.m(var1);
               return;
            }
         } catch (EOFException var10) {
            var10001 = false;
            break;
         }

         if (var3 % 2 == 1) {
            var2 = var3 + 1;
         } else {
            var2 = var3;
         }

         var3 = var5 + var2;
         if (var3 == var4) {
            return;
         }

         if (var3 <= var4) {
            try {
               var1.b(var2);
            } catch (EOFException var7) {
               var10001 = false;
               break;
            }

            var2 = var3;
         } else {
            try {
               var11 = new IOException("Encountered WebP file with invalid chunk size");
               throw var11;
            } catch (EOFException var8) {
               var10001 = false;
               break;
            }
         }
      }

      var11 = new IOException("Encountered corrupt WebP file.");
      throw var11;
   }

   private final void g(cki var1, HashMap var2) {
      ckj var5 = (ckj)var2.get("JPEGInterchangeFormat");
      ckj var6 = (ckj)var2.get("JPEGInterchangeFormatLength");
      if (var5 != null && var6 != null) {
         int var3 = var5.a(this.i);
         int var4 = var6.a(this.i);
         if (this.F == 7) {
            var3 += this.K;
         }

         if (var3 > 0 && var4 > 0 && this.E == null && this.D == null) {
            byte[] var7 = new byte[var4];
            var1.b(var3);
            var1.readFully(var7);
         }
      }

   }

   private final void h(cki var1, HashMap var2) {
      label76: {
         label75: {
            ckj var11 = (ckj)var2.get("StripOffsets");
            ckj var12 = (ckj)var2.get("StripByteCounts");
            if (var11 != null && var12 != null) {
               long[] var16 = ciq.c(var11.f(this.i));
               long[] var13 = ciq.c(var12.f(this.i));
               if (var16 == null) {
                  break label75;
               }

               int var3 = var16.length;
               if (var3 == 0) {
                  break label75;
               }

               if (var13 == null) {
                  break label76;
               }

               int var4 = var13.length;
               if (var4 == 0) {
                  break label76;
               }

               if (var3 != var4) {
                  Log.w("ExifInterface", "stripOffsets and stripByteCounts should have same length.");
                  return;
               }

               long var9 = 0L;

               for(var3 = 0; var3 < var4; ++var3) {
                  var9 += var13[var3];
               }

               byte[] var18 = new byte[(int)var9];
               this.I = true;
               int var5 = 0;
               var4 = 0;
               var3 = 0;

               while(true) {
                  int var7 = var16.length;
                  if (var5 >= var7) {
                     if (this.I) {
                        var9 = var16[0];
                        return;
                     }
                     break;
                  }

                  int var8 = (int)var16[var5];
                  int var6 = (int)var13[var5];
                  if (var5 < var7 - 1) {
                     var9 = var16[var5 + 1];
                     if ((long)(var8 + var6) != var9) {
                        this.I = false;
                     }
                  }

                  var7 = var8 - var4;
                  if (var7 < 0) {
                     return;
                  }

                  try {
                     var1.b(var7);
                  } catch (EOFException var15) {
                     return;
                  }

                  byte[] var17 = new byte[var6];

                  try {
                     var1.readFully(var17);
                  } catch (EOFException var14) {
                     return;
                  }

                  var4 = var4 + var7 + var6;
                  System.arraycopy(var17, 0, var18, var3, var6);
                  var3 += var6;
                  ++var5;
               }
            }

            return;
         }

         Log.w("ExifInterface", "stripOffsets should not be null or have zero length.");
         return;
      }

      Log.w("ExifInterface", "stripByteCounts should not be null or have zero length.");
   }

   private final void i(InputStream param1) {
      // $FF: Couldn't be decompiled
   }

   private final void j(cki var1) {
      ByteOrder var4 = u(var1);
      this.i = var4;
      var1.c = var4;
      int var2 = var1.readUnsignedShort();
      int var3 = this.F;
      if (var3 != 7 && var3 != 10 && var2 != 42) {
         throw new IOException("Invalid start code: ".concat(String.valueOf(Integer.toHexString(var2))));
      } else {
         var2 = var1.readInt();
         if (var2 >= 8) {
            var2 -= 8;
            if (var2 > 0) {
               var1.b(var2);
            }
         } else {
            throw new IOException(c.aE(var2, "Invalid first Ifd offset: "));
         }
      }
   }

   private final void k(byte[] var1, int var2) {
      cki var3 = new cki(var1, (byte[])null);
      this.j(var3);
      this.r(var3, var2);
   }

   private final void l(int var1, String var2, String var3) {
      if (!this.G[var1].isEmpty() && this.G[var1].get(var2) != null) {
         HashMap var4 = this.G[var1];
         var4.put(var3, (ckj)var4.get(var2));
         this.G[var1].remove(var2);
      }

   }

   private final void m(cki var1) {
      HashMap var3 = this.G[4];
      ckj var4 = (ckj)var3.get("Compression");
      if (var4 == null) {
         this.g(var1, var3);
      } else {
         switch(var4.a(this.i)) {
         case 1:
         case 7:
            var4 = (ckj)var3.get("BitsPerSample");
            if (var4 == null) {
               break;
            }

            int[] var7 = (int[])var4.f(this.i);
            int[] var6 = a;
            if (!Arrays.equals(var6, var7)) {
               if (this.F != 3) {
                  break;
               }

               ckj var5 = (ckj)var3.get("PhotometricInterpretation");
               if (var5 == null) {
                  break;
               }

               int var2 = var5.a(this.i);
               if (var2 == 1) {
                  if (!Arrays.equals(var7, b)) {
                     break;
                  }
               } else if (var2 != 6 || !Arrays.equals(var7, var6)) {
                  break;
               }
            }

            this.h(var1, var3);
            return;
         case 6:
            this.g(var1, var3);
            return;
         }

      }
   }

   private final void n(int var1, int var2) {
      if (!this.G[var1].isEmpty() && !this.G[var2].isEmpty()) {
         ckj var7 = (ckj)this.G[var1].get("ImageLength");
         ckj var8 = (ckj)this.G[var1].get("ImageWidth");
         ckj var9 = (ckj)this.G[var2].get("ImageLength");
         ckj var10 = (ckj)this.G[var2].get("ImageWidth");
         if (var7 != null && var8 != null && var9 != null && var10 != null) {
            int var5 = var7.a(this.i);
            int var6 = var8.a(this.i);
            int var3 = var9.a(this.i);
            int var4 = var10.a(this.i);
            if (var5 < var3 && var6 < var4) {
               HashMap[] var11 = this.G;
               HashMap var12 = var11[var1];
               var11[var1] = var11[var2];
               var11[var2] = var12;
               return;
            }
         }

      }
   }

   private final void o() {
      this.n(0, 5);
      this.n(0, 4);
      this.n(5, 4);
      ckj var2 = (ckj)this.G[1].get("PixelXDimension");
      ckj var1 = (ckj)this.G[1].get("PixelYDimension");
      if (var2 != null && var1 != null) {
         this.G[0].put("ImageWidth", var2);
         this.G[0].put("ImageLength", var1);
      }

      if (this.G[4].isEmpty() && this.p(this.G[5])) {
         HashMap[] var3 = this.G;
         var3[4] = var3[5];
         var3[5] = new HashMap();
      }

      this.p(this.G[4]);
      this.l(0, "ThumbnailOrientation", "Orientation");
      this.l(0, "ThumbnailImageLength", "ImageLength");
      this.l(0, "ThumbnailImageWidth", "ImageWidth");
      this.l(5, "ThumbnailOrientation", "Orientation");
      this.l(5, "ThumbnailImageLength", "ImageLength");
      this.l(5, "ThumbnailImageWidth", "ImageWidth");
      this.l(4, "Orientation", "ThumbnailOrientation");
      this.l(4, "ImageLength", "ThumbnailImageLength");
      this.l(4, "ImageWidth", "ThumbnailImageWidth");
   }

   private final boolean p(HashMap var1) {
      ckj var4 = (ckj)var1.get("ImageLength");
      ckj var5 = (ckj)var1.get("ImageWidth");
      if (var4 != null && var5 != null) {
         int var2 = var4.a(this.i);
         int var3 = var5.a(this.i);
         if (var2 <= 512 && var3 <= 512) {
            return true;
         }
      }

      return false;
   }

   private final void q(cki var1) {
      this.j(var1);
      this.r(var1, 0);
      this.s(var1, 0);
      this.s(var1, 5);
      this.s(var1, 4);
      this.o();
      if (this.F == 8) {
         ckj var2 = (ckj)this.G[1].get("MakerNote");
         if (var2 != null) {
            var1 = new cki(var2.d, (byte[])null);
            var1.c = this.i;
            var1.b(6);
            this.r(var1, 9);
            var2 = (ckj)this.G[9].get("ColorSpace");
            if (var2 != null) {
               this.G[1].put("ColorSpace", var2);
            }
         }
      }

   }

   private final void r(cki var1, int var2) {
      this.H.add(var1.b);
      short var6 = var1.readShort();
      if (var6 > 0) {
         long var10;
         for(short var5 = 0; var5 < var6; ++var5) {
            int var3 = var1.readUnsignedShort();
            int var4 = var1.readUnsignedShort();
            int var9 = var1.readInt();
            long var14 = (long)var1.b;
            HashMap var16 = y[var2];
            Integer var17 = var3;
            ora var23 = (ora)var16.get(var17);
            int var7;
            int var8;
            long var12;
            boolean var21;
            if (var23 == null) {
               var10 = 0L;
               var21 = false;
            } else {
               label176: {
                  label172: {
                     int[] var18;
                     label124: {
                        if (var4 > 0) {
                           var18 = e;
                           var3 = var18.length;
                           if (var4 >= 14) {
                              var10 = 0L;
                              var21 = false;
                              break label176;
                           }

                           var8 = var23.c;
                           if (var8 == 7 || var4 == 7 || var8 == var4) {
                              break label124;
                           }

                           var7 = var23.a;
                           if (var7 == var4) {
                              break label124;
                           }

                           label120: {
                              var3 = var7;
                              if (var8 != 4) {
                                 var3 = var7;
                                 if (var7 != 4) {
                                    break label120;
                                 }

                                 var3 = 4;
                              }

                              if (var4 == 3) {
                                 break label124;
                              }
                           }

                           if ((var8 == 9 || var3 == 9) && var4 == 8) {
                              break label124;
                           }
                        }

                        var10 = 0L;
                        var3 = var4;
                        break label172;
                     }

                     if (var4 == 7) {
                        var4 = var8;
                     }

                     var12 = (long)var9 * (long)var18[var4];
                     var10 = var12;
                     var3 = var4;
                     if (var12 >= 0L) {
                        if (var12 <= 2147483647L) {
                           var21 = true;
                           var10 = var12;
                           break label176;
                        }

                        var10 = var12;
                        var3 = var4;
                     }
                  }

                  boolean var22 = false;
                  var4 = var3;
                  var21 = var22;
               }
            }

            var12 = var14 + 4L;
            if (!var21) {
               var1.c(var12);
            } else {
               if (var10 > 4L) {
                  label158: {
                     var7 = var1.readInt();
                     if (this.F == 7) {
                        if ("MakerNote".equals(var23.d)) {
                           this.K = var7;
                        } else if (var2 == 6) {
                           if ("ThumbnailImage".equals(var23.d)) {
                              this.L = var7;
                              this.M = var9;
                              ckj var20 = ckj.e(6, this.i);
                              ckj var26 = ckj.c((long)this.L, this.i);
                              ckj var19 = ckj.c((long)this.M, this.i);
                              this.G[4].put("Compression", var20);
                              this.G[4].put("JPEGInterchangeFormat", var26);
                              this.G[4].put("JPEGInterchangeFormatLength", var19);
                           }

                           var3 = 6;
                           break label158;
                        }
                     }

                     var3 = var2;
                  }

                  var1.c((long)var7);
               } else {
                  var3 = var2;
               }

               var17 = (Integer)B.get(var17);
               if (var17 != null) {
                  switch(var4) {
                  case 3:
                     var10 = (long)var1.readUnsignedShort();
                     break;
                  case 4:
                     var10 = var1.a();
                     break;
                  case 8:
                     var10 = (long)var1.readShort();
                     break;
                  case 9:
                  case 13:
                     var10 = (long)var1.readInt();
                     break;
                  default:
                     var10 = -1L;
                  }

                  if (var10 > 0L) {
                     var3 = var1.d;
                     if ((var3 == -1 || var10 < (long)var3) && !this.H.contains((int)var10)) {
                        var1.c(var10);
                        this.r(var1, var17);
                     }
                  }

                  var1.c(var12);
               } else {
                  var8 = var1.b;
                  var7 = this.J;
                  byte[] var24 = new byte[(int)var10];
                  var1.readFully(var24);
                  ckj var25 = new ckj(var4, var9, (long)(var8 + var7), var24);
                  this.G[var3].put(var23.d, var25);
                  if ("DNGVersion".equals(var23.d)) {
                     this.F = 3;
                  }

                  Object var27 = var23.d;
                  if ((SSYOSt.JffSk.equals(var27) || "Model".equals(var23.d)) && var25.g(this.i).contains("PENTAX") || "Compression".equals(var23.d) && var25.a(this.i) == 65535) {
                     this.F = 8;
                  }

                  if ((long)var1.b != var12) {
                     var1.c(var12);
                  }
               }
            }
         }

         var2 = var1.readInt();
         var10 = (long)var2;
         if (var10 > 0L && !this.H.contains(var2)) {
            var1.c(var10);
            if (this.G[4].isEmpty()) {
               this.r(var1, 4);
               return;
            }

            if (this.G[5].isEmpty()) {
               this.r(var1, 5);
            }
         }
      }

   }

   private final void s(cki var1, int var2) {
      ckj var11 = (ckj)this.G[var2].get("DefaultCropSize");
      ckj var10 = (ckj)this.G[var2].get("SensorTopBorder");
      ckj var9 = (ckj)this.G[var2].get("SensorLeftBorder");
      ckj var8 = (ckj)this.G[var2].get("SensorBottomBorder");
      ckj var7 = (ckj)this.G[var2].get("SensorRightBorder");
      ckj var12;
      if (var11 != null) {
         if (var11.a == 5) {
            ckk[] var15 = (ckk[])var11.f(this.i);
            if (var15 == null || var15.length != 2) {
               Log.w("ExifInterface", "Invalid crop size values. cropSize=".concat(String.valueOf(Arrays.toString(var15))));
               return;
            }

            var12 = ckj.d(var15[0], this.i);
            var7 = ckj.d(var15[1], this.i);
         } else {
            int[] var14 = (int[])var11.f(this.i);
            if (var14 == null || var14.length != 2) {
               Log.w("ExifInterface", "Invalid crop size values. cropSize=".concat(String.valueOf(Arrays.toString(var14))));
               return;
            }

            var12 = ckj.e(var14[0], this.i);
            var7 = ckj.e(var14[1], this.i);
         }

         this.G[var2].put("ImageWidth", var12);
         this.G[var2].put("ImageLength", var7);
      } else {
         int var3;
         int var4;
         if (var10 != null && var9 != null && var8 != null && var7 != null) {
            int var5 = var10.a(this.i);
            var4 = var8.a(this.i);
            var3 = var7.a(this.i);
            int var6 = var9.a(this.i);
            if (var4 > var5 && var3 > var6) {
               var7 = ckj.e(var4 - var5, this.i);
               var12 = ckj.e(var3 - var6, this.i);
               this.G[var2].put("ImageLength", var7);
               this.G[var2].put("ImageWidth", var12);
               return;
            }
         } else {
            var8 = (ckj)this.G[var2].get("ImageLength");
            var7 = (ckj)this.G[var2].get("ImageWidth");
            if (var8 == null || var7 == null) {
               var7 = (ckj)this.G[var2].get("JPEGInterchangeFormat");
               var8 = (ckj)this.G[var2].get(sYWXtqVx.zEBeAHvD);
               if (var7 != null && var8 != null) {
                  var3 = var7.a(this.i);
                  var4 = var7.a(this.i);
                  var1.c((long)var3);
                  byte[] var13 = new byte[var4];
                  var1.readFully(var13);
                  this.d(new cki(var13), var3, var2);
                  return;
               }
            }
         }

      }
   }

   private static final boolean t(byte[] param0) {
      // $FF: Couldn't be decompiled
   }

   private static final ByteOrder u(cki var0) {
      short var1 = var0.readShort();
      switch(var1) {
      case 18761:
         return ByteOrder.LITTLE_ENDIAN;
      case 19789:
         return ByteOrder.BIG_ENDIAN;
      default:
         throw new IOException("Invalid byte order: ".concat(String.valueOf(Integer.toHexString(var1))));
      }
   }

   public final ckj a(String var1) {
      String var4 = var1;
      if (gThp.IEMwIYhzgGIP.equals(var1)) {
         var4 = "PhotographicSensitivity";
      }

      int var2 = 0;

      while(true) {
         int var3 = j.length;
         if (var2 >= 10) {
            return null;
         }

         ckj var5 = (ckj)this.G[var2].get(var4);
         if (var5 != null) {
            return var5;
         }

         ++var2;
      }
   }

   public final String b(String var1) {
      ckj var12 = this.a(var1);
      if (var12 != null) {
         if (!A.contains(var1)) {
            return var12.g(this.i);
         } else {
            ckk[] var32;
            ckk var33;
            if (var1.equals("GPSTimeStamp")) {
               int var6 = var12.a;
               String var11 = IUDuAuCIaH.pYDS;
               if (var6 != 5 && var6 != 10) {
                  StringBuilder var35 = new StringBuilder();
                  var35.append("GPS Timestamp format is not rational. format=");
                  var35.append(var12.a);
                  Log.w(var11, var35.toString());
                  return null;
               } else {
                  var32 = (ckk[])var12.f(this.i);
                  if (var32 != null && var32.length == 3) {
                     ckk var36 = var32[0];
                     int var7 = (int)((float)var36.a / (float)var36.b);
                     var36 = var32[1];
                     var6 = (int)((float)var36.a / (float)var36.b);
                     var33 = var32[2];
                     return String.format("%02d:%02d:%02d", var7, var6, (int)((float)var33.a / (float)var33.b));
                  } else {
                     Log.w(var11, "Invalid GPS Timestamp array. array=".concat(String.valueOf(Arrays.toString(var32))));
                     return null;
                  }
               }
            } else {
               boolean var10001;
               Object var28;
               try {
                  var28 = var12.f(this.i);
               } catch (NumberFormatException var27) {
                  var10001 = false;
                  return null;
               }

               NumberFormatException var30;
               if (var28 != null) {
                  label147: {
                     label146: {
                        label145: {
                           label164: {
                              double var2;
                              label163: {
                                 try {
                                    if (var28 instanceof String) {
                                       var2 = Double.parseDouble((String)var28);
                                       break label163;
                                    }
                                 } catch (NumberFormatException var25) {
                                    var10001 = false;
                                    return null;
                                 }

                                 boolean var10;
                                 try {
                                    var10 = var28 instanceof long[];
                                 } catch (NumberFormatException var20) {
                                    var10001 = false;
                                    return null;
                                 }

                                 if (var10) {
                                    long[] var34;
                                    try {
                                       var34 = (long[])var28;
                                       if (var34.length != 1) {
                                          break label146;
                                       }
                                    } catch (NumberFormatException var21) {
                                       var10001 = false;
                                       return null;
                                    }

                                    var2 = (double)var34[0];
                                 } else {
                                    label165: {
                                       label134: {
                                          int[] var29;
                                          try {
                                             if (!(var28 instanceof int[])) {
                                                break label134;
                                             }

                                             var29 = (int[])var28;
                                             if (var29.length != 1) {
                                                break label145;
                                             }
                                          } catch (NumberFormatException var24) {
                                             var10001 = false;
                                             return null;
                                          }

                                          var2 = (double)var29[0];
                                          break label165;
                                       }

                                       label127: {
                                          double[] var31;
                                          try {
                                             if (!(var28 instanceof double[])) {
                                                break label127;
                                             }

                                             var31 = (double[])var28;
                                             if (var31.length != 1) {
                                                break label164;
                                             }
                                          } catch (NumberFormatException var23) {
                                             var10001 = false;
                                             return null;
                                          }

                                          var2 = var31[0];
                                          break label165;
                                       }

                                       label120: {
                                          try {
                                             if (!(var28 instanceof ckk[])) {
                                                break label147;
                                             }

                                             var32 = (ckk[])var28;
                                             if (var32.length == 1) {
                                                break label120;
                                             }
                                          } catch (NumberFormatException var22) {
                                             var10001 = false;
                                             return null;
                                          }

                                          try {
                                             var30 = new NumberFormatException("There are more than one component");
                                             throw var30;
                                          } catch (NumberFormatException var17) {
                                             var10001 = false;
                                             return null;
                                          }
                                       }

                                       var33 = var32[0];

                                       long var8;
                                       try {
                                          var2 = (double)var33.a;
                                          var8 = var33.b;
                                       } catch (NumberFormatException var19) {
                                          var10001 = false;
                                          return null;
                                       }

                                       double var4 = (double)var8;
                                       Double.isNaN(var2);
                                       Double.isNaN(var4);
                                       var2 /= var4;
                                    }
                                 }
                              }

                              try {
                                 return Double.toString(var2);
                              } catch (NumberFormatException var16) {
                                 var10001 = false;
                                 return null;
                              }
                           }

                           try {
                              var30 = new NumberFormatException("There are more than one component");
                              throw var30;
                           } catch (NumberFormatException var15) {
                              var10001 = false;
                              return null;
                           }
                        }

                        try {
                           var30 = new NumberFormatException("There are more than one component");
                           throw var30;
                        } catch (NumberFormatException var14) {
                           var10001 = false;
                           return null;
                        }
                     }

                     try {
                        var30 = new NumberFormatException("There are more than one component");
                        throw var30;
                     } catch (NumberFormatException var13) {
                        var10001 = false;
                        return null;
                     }
                  }

                  try {
                     var30 = new NumberFormatException("Couldn't find a double value");
                     throw var30;
                  } catch (NumberFormatException var18) {
                     var10001 = false;
                  }
               } else {
                  try {
                     var30 = new NumberFormatException("NULL can't be converted to a double value");
                     throw var30;
                  } catch (NumberFormatException var26) {
                     var10001 = false;
                  }
               }

               return null;
            }
         }
      } else {
         return null;
      }
   }
}
